---
import { Astronav, MenuItems, MenuIcon, Dropdown, DropdownItems, DropdownSubmenu, OpenIcon } from "astro-navbar";
import ThemeToggle from "./ThemeToggle.astro";

/** Main menu items */
const textLinks: { label: string; href: string }[] = [
	{ label: 'Projects', href: '#projects' },
	{ label: 'About', href: '#about' },
	{ label: 'Contact', href: '#contact' },
];
---

<Astronav closeOnClick>
  <div class="menu-header">
    <a href="/" class="site-title">Allie Hock</a>
    <MenuIcon />
  </div>
  <MenuItems class="hidden lg:flex">
    <div class="nav-items">
      <div class="anchor-links">
        {
          textLinks.map(({ label, href }) => (
            <div class="anchor-link">
              <a
                aria-current={Astro.url.pathname === href}
                class:list={[
                  'link',
                  {
                    active:
                      Astro.url.pathname === href ||
                      (href !== '/' && Astro.url.pathname.startsWith(href)),
                  },
                ]}
                href={href}
              >
                {label}
              </a>
            </div>
          ))
        }
      </div>
      <div class="theme-toggle">
        <ThemeToggle />
      </div>
    </div>
  </MenuItems>
</Astronav>

<style>
  .menu-header {
		display: flex;
		justify-content: space-between;
		align-items: center;
		gap: 0.5rem;
		padding: 1.5rem;
		font-family: var(--font-brand);
  }

	.site-title {
		display: flex;
		gap: 0.5rem;
		line-height: 1.1;
		color: var(--gray-999);
		text-decoration: none;

		/* small screens */
		font-size: var(--text-4xl);
	}

	.nav-items {
		display: grid;
    grid-template-columns: 1fr 1fr;
		padding: 3rem;
    background: radial-gradient(var(--gray-900), var(--gray-800) 150%);
    box-shadow: var(--shadow-lg);
	}

  .anchor-links {
    display: flex;
		flex-direction: column;
		gap: 1rem;
		list-style: none;
		font-size: var(--text-md);
  }

	.link {
		text-decoration: none;
	}

	.theme-toggle {
		display: flex;
		align-items: center;
    justify-content: end;
		height: calc(var(--icon-size) + 2 * var(--icon-padding));
	}
</style>